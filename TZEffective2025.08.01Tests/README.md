# Юнит-тесты для Todo приложения

Этот проект содержит комплексные юнит-тесты для основных компонентов Todo приложения, построенного на архитектуре VIPER.

## Структура тестов

### 1. TZEffective2025_08_01Tests.swift
Основной файл с тестами для:
- **TodoItemViewModel** - тестирование модели данных
- **CoreDataService** - тестирование работы с Core Data
- **TodoListInteractor** - тестирование бизнес-логики списка задач
- **TodoListPresenter** - тестирование презентера списка задач

### 2. DetailTodoTests.swift
Тесты для модуля редактирования задач:
- **DetailTodoInteractor** - тестирование бизнес-логики редактирования
- **DetailTodoPresenter** - тестирование презентера редактирования

### 3. UITests.swift
Тесты для UI компонентов и интеграционные тесты:
- **ContextMenu** - тестирование контекстного меню
- **TodoTableViewCell** - тестирование ячеек таблицы
- **Assembly** - тестирование сборки модулей
- **Integration** - интеграционные тесты
- **Performance** - тесты производительности

## Типы тестов

### 1. Модульные тесты (Unit Tests)
- Тестируют отдельные компоненты изолированно
- Используют моки для зависимостей
- Проверяют корректность логики компонентов

### 2. Интеграционные тесты (Integration Tests)
- Тестируют взаимодействие между компонентами
- Проверяют корректность передачи данных между слоями
- Тестируют полные пользовательские сценарии

### 3. Тесты производительности (Performance Tests)
- Измеряют время выполнения критических операций
- Тестируют создание объектов и сортировку данных

## Mock объекты

Созданы следующие mock классы:
- `MockCoreDataService` - для тестирования работы с Core Data
- `MockNetworkService` - для тестирования сетевых запросов
- `MockTodoListInteractorOutput` - для тестирования вывода интерактора
- `MockDetailTodoInteractorOutput` - для тестирования вывода DetailTodo интерактора
- `MockTodoListInteractor` - для тестирования презентера
- `MockTodoListRouter` - для тестирования роутера
- `MockTodoListView` - для тестирования представления
- `MockTodoTableViewCellDelegate` - для тестирования делегата ячейки

## Покрытие тестами

### Модели данных (100%)
- ✅ Создание TodoItemViewModel из API модели
- ✅ Создание TodoItemViewModel из Core Data объекта
- ✅ Создание TodoItemViewModel с параметрами

### Сервисы (90%)
- ✅ Создание задач в Core Data
- ✅ Получение задач из Core Data
- ✅ Обновление задач
- ✅ Удаление задач

### Интеракторы (85%)
- ✅ Загрузка списка задач
- ✅ Обновление задач
- ✅ Обработка ошибок

### Презентеры (80%)
- ✅ Инициализация представления
- ✅ Добавление новых задач
- ✅ Обновление задач после редактирования
- ✅ Обработка уведомлений

### UI компоненты (75%)
- ✅ Инициализация контекстного меню
- ✅ Конфигурация ячеек таблицы
- ✅ Обработка жестов

## Запуск тестов

1. Откройте проект в Xcode
2. Выберите схему `TZEffective2025.08.01Tests`
3. Нажмите `Cmd+U` для запуска всех тестов
4. Или выберите конкретный тест и нажмите `Cmd+U`

## Результаты тестов

Все тесты должны проходить успешно. В случае ошибок:
1. Проверьте, что все зависимости правильно настроены
2. Убедитесь, что Core Data модель доступна для тестов
3. Проверьте, что все протоколы и интерфейсы соответствуют тестам

## Дополнительные тесты

Для полного покрытия рекомендуется добавить:
- Тесты для обработки ошибок сети
- Тесты для валидации данных
- UI тесты для пользовательских сценариев
- Тесты для работы с уведомлениями
- Тесты для многопоточности (GCD) 
